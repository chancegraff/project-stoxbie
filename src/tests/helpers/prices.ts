import {
  HistoricalPrice,
} from "@chancey/iex-cloud";

import {
  DateFormat,
  formatDate,
} from "utils/Utilities";

export const prices: HistoricalPrice[] = [
  {
    date: "2003-12-01",
    uClose: 52.1,
    uOpen: 50.27,
    uHigh: 51,
    uLow: 51.24,
    uVolume: 1322999,
    close: 3.67,
    open: 3.6,
    high: 3.69,
    low: 3.65,
    volume: 18405406,
    symbol: "nflx",
    change: 0.1236,
    changePercent: 3.6187,
    label: "Dec 1, 03",
    changeOverTime: 1.721754,
  },
  {
    date: "2003-12-02",
    uClose: 53,
    uOpen: 52.65,
    uHigh: 54.21,
    uLow: 52,
    uVolume: 1174153,
    close: 3.75,
    open: 3.8,
    high: 3.8,
    low: 3.68,
    volume: 16498809,
    symbol: "nflx",
    change: 0.0148,
    changePercent: 0.3987,
    label: "Dec 2, 03",
    changeOverTime: 1.72145,
  },
  {
    date: "2003-12-03",
    uClose: 49.8,
    uOpen: 53.84,
    uHigh: 52.71,
    uLow: 51.99,
    uVolume: 1368857,
    close: 3.56,
    open: 3.79,
    high: 3.9,
    low: 3.7,
    volume: 18854622,
    symbol: "nflx",
    change: -0.0836,
    changePercent: -2.2919,
    label: "Dec 3, 03",
    changeOverTime: 1.661051,
  },
  {
    date: "2003-12-04",
    uClose: 50.21,
    uOpen: 51.42,
    uHigh: 51.15,
    uLow: 48.76,
    uVolume: 2163056,
    close: 3.59,
    open: 3.68,
    high: 3.65,
    low: 3.47,
    volume: 28929093,
    symbol: "nflx",
    change: -0.1264,
    changePercent: -3.5261,
    label: "Dec 4, 03",
    changeOverTime: 1.541941,
  },
  {
    date: "2003-12-05",
    uClose: 48.52,
    uOpen: 49.34,
    uHigh: 50.85,
    uLow: 48.68,
    uVolume: 937431,
    close: 3.43,
    open: 3.5,
    high: 3.6,
    low: 3.39,
    volume: 12920850,
    symbol: "nflx",
    change: -0.041,
    changePercent: -1.1933,
    label: "Dec 5, 03",
    changeOverTime: 1.509845,
  },
  {
    date: "2003-12-08",
    uClose: 48.61,
    uOpen: 49.19,
    uHigh: 49.43,
    uLow: 47,
    uVolume: 1482187,
    close: 3.48,
    open: 3.51,
    high: 3.5,
    low: 3.27,
    volume: 20927653,
    symbol: "nflx",
    change: -0.0194,
    changePercent: -0.5627,
    label: "Dec 8, 03",
    changeOverTime: 1.510144,
  },
  {
    date: "2003-12-09",
    uClose: 45.75,
    uOpen: 49.96,
    uHigh: 49.02,
    uLow: 45.46,
    uVolume: 1094640,
    close: 3.28,
    open: 3.5,
    high: 3.57,
    low: 3.3,
    volume: 14957620,
    symbol: "nflx",
    change: -0.1272,
    changePercent: -3.907,
    label: "Dec 9, 03",
    changeOverTime: 1.462868,
  },
  {
    date: "2003-12-10",
    uClose: 46.37,
    uOpen: 46.13,
    uHigh: 48.1,
    uLow: 45.2,
    uVolume: 1888078,
    close: 3.28,
    open: 3.27,
    high: 3.52,
    low: 3.22,
    volume: 26928411,
    symbol: "nflx",
    change: -0.0278,
    changePercent: -0.8955,
    label: "Dec 10, 03",
    changeOverTime: 1.403315,
  },
  {
    date: "2003-12-11",
    uClose: 48.89,
    uOpen: 45.98,
    uHigh: 49.01,
    uLow: 47,
    uVolume: 1305898,
    close: 3.49,
    open: 3.29,
    high: 3.51,
    low: 3.27,
    volume: 18215537,
    symbol: "nflx",
    change: 0.1724,
    changePercent: 5.5697,
    label: "Dec 11, 03",
    changeOverTime: 1.520923,
  },
  {
    date: "2003-12-12",
    uClose: 47.89,
    uOpen: 48.27,
    uHigh: 49.77,
    uLow: 47.07,
    uVolume: 860985,
    close: 3.37,
    open: 3.49,
    high: 3.52,
    low: 3.3,
    volume: 11923856,
    symbol: "nflx",
    change: -0.046,
    changePercent: -1.386,
    label: "Dec 12, 03",
    changeOverTime: 1.492664,
  },
  {
    date: "2003-12-15",
    uClose: 47.45,
    uOpen: 50.6,
    uHigh: 49.35,
    uLow: 45.14,
    uVolume: 1023315,
    close: 3.28,
    open: 3.48,
    high: 3.6,
    low: 3.24,
    volume: 14542031,
    symbol: "nflx",
    change: -0.1088,
    changePercent: -3.2999,
    label: "Dec 15, 03",
    changeOverTime: 1.418289,
  },
  {
    date: "2003-12-16",
    uClose: 46.4,
    uOpen: 47.15,
    uHigh: 46.34,
    uLow: 45.63,
    uVolume: 1417293,
    close: 3.3,
    open: 3.31,
    high: 3.27,
    low: 3.23,
    volume: 20008991,
    symbol: "nflx",
    change: -0.0377,
    changePercent: -1.2026,
    label: "Dec 16, 03",
    changeOverTime: 1.366573,
  },
  {
    date: "2003-12-17",
    uClose: 52.54,
    uOpen: 45.45,
    uHigh: 52.88,
    uLow: 45.16,
    uVolume: 4613616,
    close: 3.61,
    open: 3.32,
    high: 3.69,
    low: 3.1,
    volume: 66649532,
    symbol: "nflx",
    change: 0.4175,
    changePercent: 13.1,
    label: "Dec 17, 03",
    changeOverTime: 1.677483,
  },
  {
    date: "2003-12-18",
    uClose: 51.32,
    uOpen: 50.37,
    uHigh: 53.7,
    uLow: 52.07,
    uVolume: 3211258,
    close: 3.82,
    open: 3.74,
    high: 3.7,
    low: 3.61,
    volume: 45201698,
    symbol: "nflx",
    change: 0.0502,
    changePercent: 1.3617,
    label: "Dec 18, 03",
    changeOverTime: 1.717185,
  },
  {
    date: "2003-12-19",
    uClose: 51.63,
    uOpen: 52.45,
    uHigh: 51.97,
    uLow: 50.65,
    uVolume: 1345514,
    close: 3.68,
    open: 3.8,
    high: 3.8,
    low: 3.8,
    volume: 18714139,
    symbol: "nflx",
    change: -0.007,
    changePercent: -0.1977,
    label: "Dec 19, 03",
    changeOverTime: 1.729562,
  },
  {
    date: "2003-12-22",
    uClose: 53.4,
    uOpen: 51.2,
    uHigh: 54.84,
    uLow: 51.62,
    uVolume: 1376554,
    close: 3.74,
    open: 3.64,
    high: 3.84,
    low: 3.74,
    volume: 19779476,
    symbol: "nflx",
    change: 0.0672,
    changePercent: 1.7916,
    label: "Dec 22, 03",
    changeOverTime: 1.745752,
  },
  {
    date: "2003-12-23",
    uClose: 56.95,
    uOpen: 52.26,
    uHigh: 57.37,
    uLow: 53.2,
    uVolume: 2081600,
    close: 4.03,
    open: 3.85,
    high: 3.97,
    low: 3.67,
    volume: 29757574,
    symbol: "nflx",
    change: 0.217,
    changePercent: 5.7722,
    label: "Dec 23, 03",
    changeOverTime: 1.903074,
  },
  {
    date: "2003-12-24",
    uClose: 58.99,
    uOpen: 57.44,
    uHigh: 60.13,
    uLow: 56.96,
    uVolume: 1977979,
    close: 4.17,
    open: 4.02,
    high: 4.28,
    low: 3.97,
    volume: 27791868,
    symbol: "nflx",
    change: 0.1575,
    changePercent: 4.0372,
    label: "Dec 24, 03",
    changeOverTime: 2.01108,
  },
  {
    date: "2003-12-26",
    uClose: 60.5,
    uOpen: 59.3,
    uHigh: 60.1,
    uLow: 58.2,
    uVolume: 867417,
    close: 4.28,
    open: 4.17,
    high: 4.27,
    low: 4.12,
    volume: 12293608,
    symbol: "nflx",
    change: 0.0874,
    changePercent: 2.17,
    label: "Dec 26, 03",
    changeOverTime: 2.099358,
  },
  {
    date: "2003-12-29",
    uClose: 60.02,
    uOpen: 58.56,
    uHigh: 59.99,
    uLow: 60.09,
    uVolume: 1187788,
    close: 4.24,
    open: 4.22,
    high: 4.32,
    low: 4.34,
    volume: 16938401,
    symbol: "nflx",
    change: 0.0082,
    changePercent: 0.2,
    label: "Dec 29, 03",
    changeOverTime: 2.12416,
  },
  {
    date: "2003-12-30",
    uClose: 56.94,
    uOpen: 60.98,
    uHigh: 59.69,
    uLow: 56.9,
    uVolume: 1135633,
    close: 4.2,
    open: 4.24,
    high: 4.27,
    low: 4.15,
    volume: 15714129,
    symbol: "nflx",
    change: -0.1101,
    changePercent: -2.6605,
    label: "Dec 30, 03",
    changeOverTime: 2.0375,
  },
  {
    date: "2003-12-31",
    uClose: 57.18,
    uOpen: 57.5,
    uHigh: 58.84,
    uLow: 56.03,
    uVolume: 1214190,
    close: 4.06,
    open: 4.25,
    high: 4.18,
    low: 3.93,
    volume: 17046061,
    symbol: "nflx",
    change: -0.15,
    changePercent: -3.8474,
    label: "Dec 31, 03",
    changeOverTime: 1.911083,
  },
];

export const tradeViewStartDate = new Date(
  "12-16-2003",
);

export const getIndexByDate = (
  startDate: Date,
) =>
{
  const iexStartDate = formatDate(
    startDate,
    DateFormat.Iex,
  );

  return prices.findIndex(
    (
      price,
    ) =>
    {
      return price.date === iexStartDate;
    },
  );
};

export const getPrice = (
  priceDate: Date,
) =>
{
  const priceIndex = getIndexByDate(
    priceDate,
  );

  return {
    ...prices[priceIndex],
  };
};

export const getPriceRange = (
  startDate: Date,
  endDate: Date,
) =>
{
  const startIndex = getIndexByDate(
    startDate,
  );
  const endIndex = getIndexByDate(
    endDate,
  ) + 1;
  const priceRange = prices.slice(
    startIndex,
    endIndex,
  );

  return [
    ...priceRange,
  ];
};
